<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>NovelAI Tags Archive KR</title>

<!-- Pretendard -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.css"/>

<style>
:root{
  --bg:#0b0c10;--panel:#121318;--text:#e8e8e8;--muted:#a7a7a7;--accent:#71c9f8;
  --fav:#ffd166;--card:#161922;--card2:#1b1f2a;--shadow:0 10px 30px rgba(0,0,0,.35)
}
*{box-sizing:border-box}
html,body{
  margin:0;height:100%;background:var(--bg);color:var(--text);
  font:16px/1.55 "Pretendard Variable",Pretendard,system-ui,-apple-system,Segoe UI,Roboto,Noto Sans KR,Apple SD Gothic Neo,sans-serif
}
a{color:inherit;text-decoration:none}

/* Header */
header{background:linear-gradient(180deg,var(--bg),rgba(11,12,16,.85));backdrop-filter:saturate(1.2) blur(8px);border-bottom:1px solid #1c1f29;position:relative;z-index:10}
.wrap{max-width:1100px;margin:0 auto;padding:20px}
.title{display:flex;align-items:center;gap:10px}
.title h1{margin:0;font-size:22px;font-weight:800;letter-spacing:.2px}
.desc{margin-top:8px;color:var(--muted);font-size:14px;line-height:1.6}

/* controls (ìŠ¤í¬ë¡¤ì‹œ ìœ„ë¡œ ì‚¬ë¼ì§€ê²Œ) */
.fixed-controls{position:relative;top:0;z-index:15;background:linear-gradient(180deg,var(--bg),rgba(11,12,16,.9));backdrop-filter:blur(8px);padding:16px 20px 10px;border-bottom:1px solid #1c1f29}
.controls{display:grid;gap:10px;grid-template-columns:1fr;grid-template-areas:"q" "sort" "reset" "count"}
.controls .q{grid-area:q}
.controls .sort{grid-area:sort}
.controls .reset{grid-area:reset}
.controls .count{grid-area:count;justify-self:end;color:var(--muted);font-size:13px}
.controls input,.controls select,.controls button{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #2a2f3b;background:var(--panel);color:var(--text)}
.controls input::placeholder{color:var(--muted)}
.controls button{cursor:pointer;border-color:#2f3b47}
@media(min-width:900px){.controls{grid-template-columns:1fr 180px 240px auto;grid-template-areas:"q sort reset count"}}

/* ì„¹ì…˜ ë¼ë²¨ */
.section-head{display:flex;align-items:center;gap:10px;margin:12px 0 8px}
.badge{font-size:11px;font-weight:700;letter-spacing:.4px;border:1px solid #506086;color:#a9c4ff;background:#12182a;padding:4px 8px;border-radius:6px;text-transform:uppercase}
.sep{height:1px;background:linear-gradient(90deg,#2a3244,transparent);margin:10px 0}

/* ì¹© */
.chips{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:6px}
.chip{border-radius:999px;border:1.5px solid;cursor:pointer;user-select:none;transition:background .15s,border-color .15s,color .15s,transform .05s}
.chip:active{transform:translateY(1px)}
.chip:focus-visible{outline:2px solid #88c3ff;outline-offset:3px}

/* ìƒìœ„ì¹© */
.chip.parent{
  padding:7px 13px;font-size:14px;font-weight:600;
  background:#202a42;border-color:#4b5f8f;color:#eaf1ff;
  box-shadow:0 4px 10px rgba(0,0,0,.3),inset 0 1px 0 rgba(255,255,255,.05)
}
.chip.parent:hover{background:#2a3654;border-color:#6f86d6}
.chip.parent.active{
  background:#5aa8ff;border-color:#82c6ff;color:#0a0e15;font-weight:700;
  box-shadow:0 0 0 2px rgba(130,198,255,.35),0 8px 16px rgba(0,0,0,.4)
}

/* í•˜ìœ„ì¹© */
.chip.facet{
  padding:7px 12px;font-size:13.5px;font-weight:600;
  background:#161f31;border-color:#4a566e;color:#e6ecff
}
.chip.facet:hover{background:#203152;border-color:#6c82c0}
.chip.facet.active{background:#3e5fa8;border-color:#6f8fd6;color:#fff;box-shadow:0 0 0 2px rgba(111,143,214,.25)}

/* ë¸Œë ˆë“œí¬ëŸ¼ */
#crumb{font-size:13px;color:#b9c6e8;margin:6px 0 2px;font-weight:500}
#crumb b{color:#eaf1ff;font-weight:600}

/* ì¹´ë“œ */
main{padding:24px 0}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:14px}
@media(max-width:640px){.grid{grid-template-columns:repeat(2,minmax(0,1fr))}}

.card{position:relative;background:linear-gradient(180deg,var(--card),var(--card2));border:1px solid #22293a;border-radius:14px;overflow:hidden;box-shadow:var(--shadow)}
.card.isFav{border-color:#8a6f2a;box-shadow:0 0 0 2px rgba(255,209,102,.2),var(--shadow)}

.thumbWrap{position:relative}
.thumb{aspect-ratio:1/1;display:block;width:100%;object-fit:cover;background:#0d0f14}
.thumb.err{display:none}
.thumb.placeholder{display:block;aspect-ratio:1/1;width:100%;background:linear-gradient(135deg,#151924,#1b2030)}

.favBtn{
  position:absolute;left:8px;top:8px;display:inline-flex;align-items:center;justify-content:center;
  width:30px;height:30px;border-radius:999px;border:1px solid #2a2f3b;background:rgba(10,12,18,.75);
  color:#6b7a8d;cursor:pointer;box-shadow:0 2px 6px rgba(0,0,0,.25); z-index:3;
}
.favBtn[aria-pressed="true"]{background:rgba(255,209,102,.2);color:var(--fav);border-color:#8a6f2a;box-shadow:0 0 0 2px rgba(255,209,102,.2),0 6px 16px rgba(0,0,0,.35)}

.copyBtn{
  position:absolute;right:8px;bottom:8px;padding:7px 10px;border-radius:10px;border:1px solid #2a2f3b;
  background:rgba(10,12,18,.75);backdrop-filter:blur(4px);color:#dff2ff;cursor:pointer; z-index:2;
}

.meta{padding:10px 12px;border-top:1px solid #22293a}
.meta .name{font-size:15px;font-weight:800}
.meta .sub{margin-top:4px;color:#aeb6c9;font-size:12px}

/* ê¸°íƒ€ */
.toast{position:fixed;left:50%;bottom:24px;transform:translateX(-50%) translateY(20px);background:#0f1724;border:1px solid #2a3651;color:#cfe9ff;padding:10px 14px;border-radius:12px;opacity:0;transition:.25s;pointer-events:none}
.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}
.empty{color:var(--muted);text-align:center;padding:40px;border:1px dashed #2b3241;border-radius:12px}
#toTop{position:fixed;bottom:28px;right:28px;background:rgba(10,12,18,.8);border:1px solid #2a2f3b;color:var(--accent);border-radius:50%;width:42px;height:42px;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:0;pointer-events:none;transition:.25s}
#toTop.show{opacity:1;pointer-events:auto;transform:translateY(0)}
#toTop:hover{background:rgba(113,201,248,.15)}
</style>
</head>
<body>
<header>
  <div class="wrap">
    <div class="title"><h1>NovelAI Tags Archive KR</h1></div>
    <p class="desc">
      ì¹´í…Œê³ ë¦¬/í•˜ìœ„ ë¶„ë¥˜ ì¹©ìœ¼ë¡œ í•„í„°ë§<br>
      'ë³µì‚¬' ë²„íŠ¼ìœ¼ë¡œ íƒœê·¸ ë³µì‚¬, â˜… ì¦ê²¨ì°¾ê¸°(ìƒë‹¨ ê³ ì •)<br>
      ì˜¤ë¥˜ ì œë³´, ê°œì„  ë¬¸ì˜, ë“±ë¡ ìš”ì²­ â†’ íŠ¸ìœ„í„° @ilkoli_AI<br>
      ğŸ— ê³µì‚¬ì¤‘... í˜„ì¬ ë² ì´ìŠ¤ íƒœê·¸ ì±„ìš°ëŠ” ì¤‘...
    </p>
  </div>
</header>

<div class="fixed-controls">
  <div class="wrap">
    <div class="controls">
      <input class="q" id="q" placeholder="ê²€ìƒ‰"/>
      <select class="sort" id="sort">
        <option value="original">ë“±ë¡ìˆœ</option>
        <option value="newest">ìµœì‹ ìˆœ</option>
        <option value="titleAsc">ì œëª© Aâ†’Z</option>
        <option value="titleDesc">ì œëª© Zâ†’A</option>
      </select>
      <button type="button" class="reset" id="reset">ì •ë ¬/ê²€ìƒ‰ ì´ˆê¸°í™” (ì¦ê²¨ì°¾ê¸° ìœ ì§€)</button>
      <div class="count"><span id="count">0</span>ê°œ í‘œì‹œ ì¤‘</div>
    </div>

    <!-- í•„í„° -->
    <section id="filter">
      <div class="section-head">
        <span class="badge">ì¹´í…Œê³ ë¦¬</span>
        <div id="crumb">ì„ íƒ: <b>ì „ì²´</b></div>
      </div>
      <div class="chips" id="catChips">
        <button type="button" class="chip parent active" data-cat="ALL">ì „ì²´</button>
        <button type="button" class="chip parent" data-cat="ë² ì´ìŠ¤">ë² ì´ìŠ¤</button>
        <button type="button" class="chip parent" data-cat="ìºë¦­í„°">ìºë¦­í„°</button>
        <button type="button" class="chip parent" data-cat="ê¸°ë³¸ ì™¸í˜•">ê¸°ë³¸ ì™¸í˜•</button>
        <button type="button" class="chip parent" data-cat="ì„¸ë¶€ ì™¸í˜•">ì„¸ë¶€ ì™¸í˜•</button>
        <button type="button" class="chip parent" data-cat="ì˜ìƒ">ì˜ìƒ</button>
        <button type="button" class="chip parent" data-cat="ë™ì‘">ë™ì‘</button>
        <button type="button" class="chip parent" data-cat="ìƒí˜¸ì‘ìš©">ìƒí˜¸ì‘ìš©</button>
        <button type="button" class="chip parent" data-cat="ë°°ê²½Â·í™˜ê²½">ë°°ê²½Â·í™˜ê²½</button>
        <button type="button" class="chip parent" data-cat="ì†Œí’ˆÂ·íš¨ê³¼">ì†Œí’ˆÂ·íš¨ê³¼</button>
      </div>

      <div class="sep"></div>

      <div class="section-head">
        <span class="badge">í•˜ìœ„ ë¶„ë¥˜</span>
        <span id="facetHelp" style="font-size:12px;color:#9fb2de">ìƒìœ„ ì¹´í…Œê³ ë¦¬ë¥¼ ë¨¼ì € ì„ íƒí•˜ì„¸ìš”</span>
      </div>
      <div class="chips" id="facetChips"></div>
    </section>
  </div>
</div>

<main class="wrap">
  <div id="grid" class="grid"></div>
  <div id="empty" class="empty" hidden>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ì–´ìš”.</div>
</main>

<button id="toTop" title="ë§¨ ìœ„ë¡œ" type="button">â†‘</button>
<div id="toast" class="toast"></div>

<script>
/* ====== ê³µìœ  ë§í¬ â†’ ì§ì ‘ í‘œì‹œ ê°€ëŠ¥í•œ ì´ë¯¸ì§€ URLë¡œ ë³€í™˜ ====== */
/* ê¸°ë³¸ê°’: ë“œë¼ì´ë¸ŒëŠ” ì¸ë„¤ì¼(w600)ë¡œ ë³€í™˜. item.thumbSizeë¡œ ê°œë³„ ë³€ê²½ ê°€ëŠ¥. */
function toDirectImage(url, size){
  if(!url) return url;
  var s = size || 600;

  // Google Drive: /file/d/<ID>/view
  var m = url.match(/https?:\/\/drive\.google\.com\/file\/d\/([^/]+)/i);
  if(m) return 'https://drive.google.com/thumbnail?id='+m[1]+'&sz=w'+s;

  // Google Drive: ...?id=<ID>
  m = url.match(/[?&]id=([^&]+)/i);
  if(m && /drive\.google\.com/i.test(url)) {
    return 'https://drive.google.com/thumbnail?id='+m[1]+'&sz=w'+s;
  }

  // Google Drive "uc?export=" í˜•íƒœ â†’ ì¸ë„¤ì¼ë¡œ ì¹˜í™˜
  m = url.match(/https?:\/\/drive\.google\.com\/uc\?.*?[?&]id=([^&]+)/i);
  if(m) return 'https://drive.google.com/thumbnail?id='+m[1]+'&sz=w'+s;

  // ê·¸ ì™¸(ì´ë¯¸ ì§ì ‘ URLì´ê±°ë‚˜ ë‹¤ë¥¸ í˜¸ìŠ¤íŒ…)ì€ ê·¸ëŒ€ë¡œ
  return url;
}

/* ====== ë°ì´í„° ì˜ˆì‹œ ====== */
/* imgì— ë“œë¼ì´ë¸Œ ê³µìœ  ë§í¬ë¥¼ ê·¸ëƒ¥ ë„£ì–´ë„ ë¨ */
var DATA = [
  {id:'img-001',key:'masterpiece',cat:'ë² ì´ìŠ¤',facet:'í’ˆì§ˆ',desc:'ë§ˆìŠ¤í„°í”¼ìŠ¤',copyText:'masterpiece',img:'https://i.postimg.cc/mrR6rvN5/no-images.jpg'},
  {id:'img-002',key:'distict',cat:'ë² ì´ìŠ¤',facet:'í’ˆì§ˆ',desc:'ëšœë ·í•œ',copyText:'distict',img:'https://i.postimg.cc/mrR6rvN5/no-images.jpg'},
  {id:'img-003',key:'blurry',cat:'ë² ì´ìŠ¤',facet:'í’ˆì§ˆ',desc:'íë¦¿í•œ',copyText:'blurry',img:'https://i.postimg.cc/mrR6rvN5/no-images.jpg'},
  {id:'img-004',key:'high resolution',cat:'ë² ì´ìŠ¤',facet:'í’ˆì§ˆ',desc:'ë†’ì€ í•´ìƒë„',copyText:'highres',img:'https://i.postimg.cc/mrR6rvN5/no-images.jpg'},
  {id:'img-005',key:'low resolution',cat:'ë² ì´ìŠ¤',facet:'í’ˆì§ˆ',desc:'ë‚®ì€ í•´ìƒë„',copyText:'low resolution',img:'https://i.postimg.cc/mrR6rvN5/no-images.jpg'},
  {id:'img-006',key:'high quality',cat:'ë² ì´ìŠ¤',facet:'í’ˆì§ˆ',desc:'ê³ í€„ë¦¬í‹°',copyText:'high quality',img:'https://i.postimg.cc/mrR6rvN5/no-images.jpg'},
  {id:'img-007',key:'low quality',cat:'ë² ì´ìŠ¤',facet:'í’ˆì§ˆ',desc:'ì €í€„ë¦¬í‹°',copyText:'low quality',img:'https://i.postimg.cc/mrR6rvN5/no-images.jpg'},
  {id:'img-008',key:'super detail',cat:'ë² ì´ìŠ¤',facet:'í’ˆì§ˆ',desc:'ë†’ì€ ë””í…Œì¼',copyText:'super detail',img:'https://i.postimg.cc/mrR6rvN5/no-images.jpg'},
  {id:'img-009',key:'finely detailed',cat:'ë² ì´ìŠ¤',facet:'í’ˆì§ˆ',desc:'ì •êµí•œ ë””í…Œì¼',copyText:'finely detailed',img:'https://i.postimg.cc/mrR6rvN5/no-images.jpg'},
  {id:'img-010',key:'intricate detail',cat:'ë² ì´ìŠ¤',facet:'í’ˆì§ˆ',desc:'ë³µì¡í•œ ë””í…Œì¼',copyText:'intricate detail',img:'https://i.postimg.cc/mrR6rvN5/no-images.jpg'},
  {id:'img-011',key:'detailed *',cat:'ë² ì´ìŠ¤',facet:'í’ˆì§ˆ',desc:'ë””í…Œì¼í•œ ë¬´ì–¸ê°€',copyText:'detailed *',img:'https://i.postimg.cc/mrR6rvN5/no-images.jpg'},
  {id:'img-012',key:'perfect anatomy',cat:'ë² ì´ìŠ¤',facet:'í’ˆì§ˆ',desc:'ì™„ë²½í•œ í•´ë¶€í•™(ì‹ ì²´)',copyText:'perfect anatomy',img:'https://i.postimg.cc/mrR6rvN5/no-images.jpg'},
  {id:'img-013',key:'perfect *',cat:'ë² ì´ìŠ¤',facet:'í’ˆì§ˆ',desc:'ì™„ë²½í•œ *(ì‹ ì²´ë¶€ìœ„)',copyText:'perfect *',img:'https://i.postimg.cc/mrR6rvN5/no-images.jpg'},
  {id:'img-014',key:'missing anatomy',cat:'ë² ì´ìŠ¤',facet:'í’ˆì§ˆ',desc:'ì˜ëª»ëœ í•´ë¶€í•™',copyText:'missing anatomy',img:'https://i.postimg.cc/mrR6rvN5/no-images.jpg'},
  {id:'img-015',key:'missing *',cat:'ë² ì´ìŠ¤',facet:'í’ˆì§ˆ',desc:'ì˜ëª»ëœ *(ì‹ ì²´ë¶€ìœ„)',copyText:'missing *',img:'https://i.postimg.cc/mrR6rvN5/no-images.jpg'},
  {id:'img-016',key:'extra *',cat:'ë² ì´ìŠ¤',facet:'í’ˆì§ˆ',desc:'ë³µìˆ˜ì˜ *(ì‹ ì²´ë¶€ìœ„) | ì‹ ì²´ ì¶”ê°€',copyText:'extra *',img:'https://i.postimg.cc/mrR6rvN5/no-images.jpg'},
  {id:'img-017',key:'sketch',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'ìŠ¤ì¼€ì¹˜',copyText:'sketch',img:'https://drive.google.com/file/d/1ftFMGpIry3lpsQNClhYJQ9FEBSMPEvAC'},
  {id:'img-018',key:'ligne claire',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'ëª…í™•í•œ ì„ ',copyText:'ligne claire',img:'https://drive.google.com/file/d/1S_d0UjLln7CToyb6lkUOQMbNeu1tIESx'},
  {id:'img-019',key:'lineart',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'ì„ í™”',copyText:'lineart',img:'https://drive.google.com/file/d/1jvQ8I5OwQJJf1LNWMJUwwVM_AGM8mBu9'},
  {id:'img-020',key:'traditional media',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'ì „í†µ ìº”ë²„ìŠ¤ ê·¸ë¦¼',copyText:'traditional media',img:'https://drive.google.com/file/d/1XK7p6R96GTL33Sz_G68mSxkScpJbnfl6'},
  {id:'img-021',key:'faux traditional media',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'ê°€ì§œ ì „í†µ ìº”ë²„ìŠ¤ ê·¸ë¦¼',copyText:'faux traditional media',img:'https://drive.google.com/file/d/19zEgEs4pCfHsfB-lwUjpU1hJ_p7NdG44'},
  {id:'img-022',key:'mixed media',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'ì „í†µ ìº”ë²„ìŠ¤+ë””ì§€í„¸ ê·¸ë¦¼',copyText:'mixed media',img:'https://drive.google.com/file/d/14zEYM1wk0lgvMCiAkILcURfshNNhPdF5'},
  {id:'img-023',key:'unconventional media',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'ë””ì§€í„¸ì´ë‚˜ ì „í†µ ê·¸ë¦¼ì´ ì•„ë‹Œ ë‹¤ë¥¸ ëª¨ë“  ê·¸ë¦¼',copyText:'unconventional media',img:'https://drive.google.com/file/d/1q6VWADPudY60KqTaamiSaqMQY_CQzsdB'},
  {id:'img-024',key:'acrylic paint (medium)',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'ì•„í¬ë¦´ í˜ì¸íŠ¸',copyText:'acrylic paint (medium)',img:'https://drive.google.com/file/d/1XUcUOkCMCeowpXs3nQCZyASXwXrKQ1hn'},
  {id:'img-025',key:'ballpoint pen (medium)',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'ë³¼íœ',copyText:'ballpoint pen (medium)',img:'https://drive.google.com/file/d/1ErWit1bR9sXYHXvv-VBui6DhFpRYXo5Q'},
  {id:'img-026',key:'calligraphy brush (medium)',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'ìº˜ë¦¬ê·¸ë¼í”¼ ë¸ŒëŸ¬ì‰¬',copyText:'calligraphy brush (medium)',img:'https://drive.google.com/file/d/1k4eY0jhjJVYEmyjxLACEQI8QRpaMEvwr'},
  {id:'img-027',key:'colored pencil (medium)',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'ìƒ‰ì—°í•„',copyText:'colored pencil (medium)',img:'https://drive.google.com/file/d/1TGVoX5RoANuDCLFi9TID7vBiIvynXCwy'},
  {id:'img-028',key:'graphite (medium)',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'ì—°í•„',copyText:'graphite (medium)',img:'https://drive.google.com/file/d/1ASRpZ6soN1ejdcfWVVWcCzYdge7MLZMb'},
  {id:'img-029',key:'ink (medium)',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'ì‰í¬',copyText:'ink (medium)',img:'https://drive.google.com/file/d/1I44V8uuhQQIEn3BeNDZfRn0XtiaISbrE'},
  {id:'img-030',key:'marker (medium)',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'ë§ˆì»¤',copyText:'marker (medium)',img:'https://drive.google.com/file/d/1LJ4UZmCTyPo4sbcOz1qiTrDHgltp0e2-'},
  {id:'img-031',key:'millipen (medium)',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'ë°€ë¦¬íœ',copyText:'millipen (medium)',img:'https://drive.google.com/file/d/18Y_Q0VgulauDSSi2OM1Hwg6JeximPjY9'},
  {id:'img-032',key:'nib pen (medium)',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'ë§Œë…„í•„',copyText:'nib pen (medium)',img:'https://drive.google.com/file/d/1D2QY-3Tx0HHOk1uxHtb23N8IG0HM6QQh'},
  {id:'img-033',key:'oil painting (medium)',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'ìœ í™”',copyText:'oil painting (medium)',img:'https://drive.google.com/file/d/1Hauq_OSQ8xrYKnJMM_DQj2fmFHpxBBXm'},
  {id:'img-034',key:'painting (medium)',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'ì¼ë°˜ ë¬¼ê°',copyText:'painting (medium)',img:'https://drive.google.com/file/d/1nEBUG-4lYV_kAd3vjAslTuCMGJniV0gA'},
  {id:'img-035',key:'pastel (medium)',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'íŒŒìŠ¤í…”',copyText:'pastel (medium)',img:'https://drive.google.com/file/d/1Q15ETpQq6t5N8C2A2q0kI7-FNYHe6xFI'},
  {id:'img-036',key:'pen (medium)',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'íœ',copyText:'pen (medium)',img:'https://drive.google.com/file/d/1EJJh9jtgQIV0zXf1L0TrGebNWzH4TtVg'},
  {id:'img-037',key:'watercolor (medium)',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'ìˆ˜ì±„í™”',copyText:'watercolor (medium)',img:'https://drive.google.com/file/d/1f_lSfRroACi8wqYJ8alV7FuX-VzQbnBU'},
  {id:'img-038',key:'watercolor pencil (medium)',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'ìˆ˜ì±„í™” ì—°í•„',copyText:'watercolor pencil (medium)',img:'https://drive.google.com/file/d/1ak-yT2Uc-1_o0oMcFjM3syjAFZaoPJXw'},
  {id:'img-039',key:'3d',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'3D',copyText:'3d',img:'https://drive.google.com/file/d/17cOJ2BqlNihAIQtw9lpaVuciK9Wky2l2'},
  {id:'img-040',key:'ai-generated, ai-assisted',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'AI ìƒì„±í’ ì´ë¯¸ì§€',copyText:'ai-generated, ai-assisted',img:'https://drive.google.com/file/d/1atQxw2SQJ8HWdFrT0IP8OivcKtzDhk2j'},
  {id:'img-041',key:'anime screenshot',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'ì• ë‹ˆ ìŠ¤ìƒ·',copyText:'anime screenshot',img:'https://drive.google.com/file/d/1kgYwp1bC0Y7tmb8wD35nhFBaisGgTkKw'},
  {id:'img-042',key:'pixel art',cat:'ë² ì´ìŠ¤',facet:'í™”í’',desc:'í”½ì…€ ì•„íŠ¸',copyText:'pixel art',img:'https://drive.google.com/file/d/110W9fMCrt4m6asGu-fwrKh276OGeVL2N'},
  {id:'img-043',key:'fantasy',cat:'ë² ì´ìŠ¤',facet:'ì¥ë¥´',desc:'íŒíƒ€ì§€',copyText:'fantasy',img:'https://drive.google.com/file/d/1r3XDetIKM6wOyFiG7z--1LjV_zaXZAh6'},
  {id:'img-044',key:'romance fantasy',cat:'ë² ì´ìŠ¤',facet:'ì¥ë¥´',desc:'ë¡œë§¨ìŠ¤ íŒíƒ€ì§€',copyText:'romance fantasy',img:'https://drive.google.com/file/d/1r3XDetIKM6wOyFiG7z--1LjV_zaXZAh6'},
  {id:'img-045',key:'steampunk',cat:'ë² ì´ìŠ¤',facet:'ì¥ë¥´',desc:'ìŠ¤íŒ€í‘í¬',copyText:'steampunk',img:'https://drive.google.com/file/d/1r3XDetIKM6wOyFiG7z--1LjV_zaXZAh6'},
  {id:'img-046',key:'dieselpunk',cat:'ë² ì´ìŠ¤',facet:'ì¥ë¥´',desc:'ë””ì ¤í‘í¬',copyText:'dieselpunk',img:'https://drive.google.com/file/d/1r3XDetIKM6wOyFiG7z--1LjV_zaXZAh6'},
];

/* ====== FACETS ====== */
var FACETS = {
  "ë² ì´ìŠ¤":["í’ˆì§ˆ","í™”í’","ì¥ë¥´","ì´ˆì ","ì¡°ëª…","ì—°ì¶œ","ë°°ê²½","ì¹´ë©”ë¼(POV)"],
  "ìºë¦­í„°":["ì¸ì›","ì—°ë ¹","ì¸ì¢…/í”¼ë¶€í†¤","ì„±ê²©","ì¢…ì¡±","ì§ì—…","ê´€ê³„"],
  "ê¸°ë³¸ ì™¸í˜•":["ì–¼êµ´","í”¼ë¶€ìƒ‰","ì²´í˜•","ë‚ ê°œ","ê¼¬ë¦¬"],
  "ì„¸ë¶€ ì™¸í˜•":["ë¨¸ë¦¬ì¹´ë½","ëˆˆ","ê·€/ì½”/ì…","ì†/ì†í†±","ê¸°íƒ€"],
  "ì˜ìƒ":["ìƒì˜","ì•„ìš°í„°/ì •ì¥","í•˜ì˜","ì›í”¼ìŠ¤","ì‹ ë°œ","ì•¡ì„¸ì„œë¦¬"],
  "ë™ì‘":["í‘œì •","í¬ì¦ˆ","ì‹œì„ ","ì›€ì§ì„"],
  "ìƒí˜¸ì‘ìš©":["ë·°ì–´","íƒ€ ìºë¦­í„°","ì‚¬ë¬¼/í™˜ê²½","êµ¬ë„"],
  "ë°°ê²½Â·í™˜ê²½":["ì‹¤ë‚´","ì•¼ì™¸","ìì—°","ë„ì‹œ","ì‹œê°„ëŒ€/ê¸°ìƒ","ë¶„ìœ„ê¸°"],
  "ì†Œí’ˆÂ·íš¨ê³¼":["ë¬´ê¸°/ì¥ë¹„","ìƒí™œ/ì¥ì‹","ì‹œê° íš¨ê³¼"]
};

document.addEventListener('DOMContentLoaded', function(){
  /* DOM */
  function $(sel,root){ return (root||document).querySelector(sel); }
  var g=$('#grid'), empty=$('#empty'), q=$('#q'), sortSel=$('#sort'),
      resetBtn=$('#reset'), countEl=$('#count'), toastEl=$('#toast'),
      toTop=$('#toTop'), catChips=$('#catChips'), facetChips=$('#facetChips'),
      facetHelp=$('#facetHelp'), crumb=$('#crumb');

  /* ì €ì¥ì†Œ (ì¦ê²¨ì°¾ê¸°) */
  var safeStore=(function(){ try{ var k='__chk__'; localStorage.setItem(k,'1'); localStorage.removeItem(k); return localStorage; }catch(e){ var m={}; return {getItem:function(k){return m[k]||null},setItem:function(k,v){m[k]=v},removeItem:function(k){delete m[k]}} }})();
  var FKEY='wiki:favorites';
  function getFav(){ try{ return new Set(JSON.parse(safeStore.getItem(FKEY)||'[]')); }catch(e){ return new Set(); } }
  function setFav(s){ try{ safeStore.setItem(FKEY, JSON.stringify(Array.from(s))); }catch(e){} }

  /* ìƒíƒœ/ì •ë ¬ ì¸ë±ìŠ¤ */
  var orderIndex=new Map(DATA.map(function(it,i){ return [it.id,i]; }));
  var state={cat:'ALL',facets:new Set(),q:'',sort:'original'};

  /* ì¹´ë“œ */
  function makeCard(item){
    var favs=getFav(); var isFav=favs.has(item.id);
    var el=document.createElement('article');
    el.className='card'+(isFav?' isFav':'');
    var descHtml=item.desc?'<div class="meta"><div class="sub">'+item.desc+'</div></div>':'';

    // ê³µìœ  ë§í¬ë¥¼ ìë™ ë³€í™˜í•´ì„œ ì‚¬ìš©
    var src = toDirectImage(item.img, item.thumbSize);

    var thumbHTML = src
      ? '<div class="thumbWrap"><img class="thumb" loading="lazy" src="'+src+'" alt="'+(item.key||"")+'"/><button type="button" class="copyBtn" data-clip="'+(item.copyText||item.key||'')+'">ë³µì‚¬</button></div>'
      : '<div class="thumbWrap"><div class="thumb placeholder"></div><button type="button" class="copyBtn" data-clip="'+(item.copyText||item.key||'')+'">ë³µì‚¬</button></div>';

    el.innerHTML =
      '<button type="button" class="favBtn" aria-pressed="'+(isFav?'true':'false')+'" data-id="'+item.id+'">â˜…</button>'+
      thumbHTML+
      '<div class="meta"><div class="name">'+(item.key||'')+'</div><div class="sub">'+(item.cat||'')+' Â· '+(item.facet||'-')+'</div></div>'+
      descHtml;

    var imgEl = el.querySelector('img.thumb');
    if(imgEl){
      imgEl.addEventListener('error', function(){
        imgEl.classList.add('err');
        var ph=document.createElement('div');
        ph.className='thumb placeholder';
        imgEl.parentNode.insertBefore(ph, imgEl);
      });
    }
    return el;
  }

  /* í•„í„°/ì •ë ¬ */
  function filterByState(list){
    var kw=(state.q||'').toLowerCase().trim();
    var arr=list.slice();
    if(state.cat!=='ALL') arr=arr.filter(function(it){ return it.cat===state.cat; });
    if(state.facets.size) arr=arr.filter(function(it){ return state.facets.has(it.facet); });
    if(kw){
      arr=arr.filter(function(it){
        function inc(s){ return (s||'').toLowerCase().indexOf(kw)>-1; }
        return inc(it.key)||inc(it.desc)||inc(it.cat)||inc(it.facet);
      });
    }
    var favs=getFav(), fa=[], na=[];
    arr.forEach(function(i){ (favs.has(i.id)?fa:na).push(i); });

    function byTitle(a,b){ return a.key.localeCompare(b.key,'ko',{numeric:true,sensitivity:'base'}); }
    function byOld(a,b){ return orderIndex.get(a.id)-orderIndex.get(b.id); }
    function byNew(a,b){ return orderIndex.get(b.id)-orderIndex.get(a.id); }
    function byDescLen(a,b){ return (a.desc?a.desc.length:0)-(b.desc?b.desc.length:0); }
    function apply(a){
      switch(state.sort){
        case 'newest': return a.sort(byNew);
        case 'titleAsc': return a.sort(byTitle);
        case 'titleDesc': return a.sort(function(x,y){ return byTitle(y,x); });
        case 'descLen': return a.sort(byDescLen);
        default: return a.sort(byOld);
      }
    }
    return apply(fa).concat(apply(na));
  }

  function render(){
    var list=filterByState(DATA);
    g.innerHTML=''; list.forEach(function(it){ g.appendChild(makeCard(it)); });
    empty.hidden=list.length!==0; countEl.textContent=String(list.length);
  }

  /* ì¹© */
  function renderFacetChips(){
    facetChips.innerHTML='';
    var list=(state.cat==='ALL')?[]:(FACETS[state.cat]||[]);
    if(!list.length){ facetHelp.textContent='ìƒìœ„ ì¹´í…Œê³ ë¦¬ë¥¼ ë¨¼ì € ì„ íƒí•˜ì„¸ìš”'; return; }
    facetHelp.textContent='ë‹¤ì¤‘ ì„ íƒ ê°€ëŠ¥';
    list.forEach(function(name){
      var b=document.createElement('button');
      b.type='button'; b.className='chip facet'; b.dataset.facet=name; b.textContent=name;
      if(state.facets.has(name)) b.classList.add('active');
      facetChips.appendChild(b);
    });
  }

  catChips.addEventListener('click', function(e){
    var btn=e.target.closest && e.target.closest('button.chip.parent[data-cat]');
    if(!btn) return;
    Array.prototype.forEach.call(catChips.querySelectorAll('button.chip.parent'), function(x){
      x.classList.toggle('active', x===btn);
    });
    state.cat=btn.getAttribute('data-cat');
    state.facets=new Set();
    crumb.innerHTML='ì„ íƒ: <b>'+state.cat+'</b>';
    renderFacetChips(); render();
  });

  facetChips.addEventListener('click', function(e){
    var btn=e.target.closest && e.target.closest('button.chip.facet[data-facet]');
    if(!btn) return;
    btn.classList.toggle('active');
    var selected=[];
    Array.prototype.forEach.call(facetChips.querySelectorAll('.chip.facet.active'), function(b){
      selected.push(b.getAttribute('data-facet'));
    });
    state.facets=new Set(selected); render();
  });

  /* ì¹´ë“œ ë‚´ ì´ë²¤íŠ¸ */
  function toast(msg){
    toastEl.textContent=msg; toastEl.classList.add('show');
    setTimeout(function(){ toastEl.classList.remove('show'); },1200);
  }
  g.addEventListener('click', function(ev){
    var copy=ev.target.closest && ev.target.closest('.copyBtn');
    if(copy){
      var text=copy.getAttribute('data-clip')||'';
      if(navigator.clipboard && navigator.clipboard.writeText){
        navigator.clipboard.writeText(text).then(function(){ toast('ë³µì‚¬ ì™„ë£Œ!'); }, function(){ toast('ë³µì‚¬ ì‹¤íŒ¨'); });
      }else{
        var ta=document.createElement('textarea'); ta.value=text; document.body.appendChild(ta);
        ta.select(); try{ document.execCommand('copy'); toast('ë³µì‚¬ ì™„ë£Œ!'); }catch(e){ toast('ë³µì‚¬ ì‹¤íŒ¨'); }
        document.body.removeChild(ta);
      }
      return;
    }
    var star=ev.target.closest && ev.target.closest('.favBtn');
    if(star){
      var favs=getFav(); var id=star.getAttribute('data-id');
      if(favs.has(id)) favs.delete(id); else favs.add(id);
      setFav(favs); render(); return;
    }
  });

  /* ê²€ìƒ‰/ì •ë ¬/ê¸°íƒ€ */
  q.addEventListener('input', function(e){ state.q=e.target.value; render(); });
  sortSel.addEventListener('change', function(e){ state.sort=e.target.value; render(); });
  resetBtn.addEventListener('click', function(){ q.value=''; state.q=''; sortSel.value='original'; state.sort='original'; render(); });

  window.addEventListener('scroll', function(){ if(window.scrollY>300) toTop.classList.add('show'); else toTop.classList.remove('show'); });
  toTop.addEventListener('click', function(){ window.scrollTo({top:0,behavior:'smooth'}); });

  /* ì‹œì‘ */
  renderFacetChips(); render();
});
</script>
</body>
</html>
