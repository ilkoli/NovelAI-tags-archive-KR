<!doctype html>

<html lang="ko">

<head>

<meta charset="utf-8"/>

<meta name="viewport" content="width=device-width,initial-scale=1"/>

<title>Tag Wiki — 단일 페이지</title>

<style>

:root { --bg:#0b0c10; --panel:#121318; --text:#e8e8e8; --muted:#a7a7a7; --accent:#71c9f8; --fav:#ffd166; --card:#161922; --card2:#1b1f2a; --shadow:0 10px 30px rgba(0,0,0,.35); }

*{box-sizing:border-box}

html,body{margin:0;height:100%;background:var(--bg);color:var(--text);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Noto Sans KR,Apple SD Gothic Neo,sans-serif}

a{color:inherit;text-decoration:none}

header{background:linear-gradient(180deg,var(--bg),rgba(11,12,16,.85));backdrop-filter:saturate(1.2) blur(8px);border-bottom:1px solid #1c1f29;position:relative;z-index:10}

.wrap{max-width:1100px;margin:0 auto;padding:20px}

.title{display:flex;align-items:center;gap:10px}

.title h1{margin:0;font-size:20px;font-weight:700}

.desc{margin-top:8px;color:var(--muted);font-size:14px;line-height:1.6}

/* 토글 */

.toggle{margin-top:10px;padding:12px 14px;background:var(--panel);border:1px solid #2a2f3b;border-radius:10px}

.toggle summary{cursor:pointer;font-weight:600;color:var(--accent);list-style:none}

.toggle summary::-webkit-details-marker{display:none}

.toggle[open]{box-shadow:0 0 0 2px rgba(113,201,248,.08) inset}

.toggle p{margin:10px 0 0;font-size:14px;color:var(--muted);line-height:1.6}

/* 상단 고정 컨트롤 */

.fixed-controls{position:sticky;top:0;z-index:15;background:linear-gradient(180deg,var(--bg),rgba(11,12,16,.9));backdrop-filter:blur(8px);padding:16px 20px 10px;border-bottom:1px solid #1c1f29}

.controls{display:grid;gap:10px;grid-template-columns:1fr;grid-template-areas:"q" "sort" "reset" "count"}

.controls .q{grid-area:q}

.controls .sort{grid-area:sort}

.controls .reset{grid-area:reset}

.controls .count{grid-area:count;justify-self:end;color:var(--muted);font-size:13px}

.controls input,.controls select,.controls button{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #2a2f3b;background:var(--panel);color:var(--text)}

.controls input::placeholder{color:var(--muted)}

.controls button{cursor:pointer;border-color:#2f3b47}

@media(min-width:900px){.controls{grid-template-columns:1fr 180px 240px auto;grid-template-areas:"q sort reset count"}}

/* 카테고리/하위칩 */

.cat-bar{margin-top:10px}

.chips{display:flex;flex-wrap:wrap;gap:8px}

.chip{padding:7px 12px;border-radius:999px;border:1px solid #2a2f3b;background:#0f1117;color:#dfe7ff;cursor:pointer}

.chip:hover{background:var(--card2)}

.chip.active{background:var(--card2);border-color:#2d3550;color:#fff;box-shadow:0 0 0 2px rgba(113,201,248,.08) inset}

.facet-bar{margin-top:8px;border-top:1px dashed #2b3241;padding-top:10px}

.facet-help{font-size:12px;color:var(--muted);margin-left:2px}

/* 그리드/카드 */

main{padding:24px 0}

.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:14px}

@media(max-width:640px){.grid{grid-template-columns:repeat(2,minmax(0,1fr))}}

.card{position:relative;background:linear-gradient(180deg,var(--card),var(--card2));border:1px solid #22293a;border-radius:14px;overflow:hidden;box-shadow:var(--shadow);transition:box-shadow .2s ease,border-color .2s ease}

.card.isFav{border-color:#8a6f2a;box-shadow:0 0 0 2px rgba(255,209,102,.2),var(--shadow)}

.favBtn{position:absolute;left:8px;top:8px;display:inline-flex;align-items:center;justify-content:center;width:30px;height:30px;border-radius:999px;border:1px solid #2a2f3b;background:rgba(10,12,18,.75);color:#6b7a8d;cursor:pointer;box-shadow:0 2px 6px rgba(0,0,0,.25)}

.favBtn[aria-pressed="true"]{background:rgba(255,209,102,.2);color:var(--fav);border-color:#8a6f2a;box-shadow:0 0 0 2px rgba(255,209,102,.2),0 6px 16px rgba(0,0,0,.35)}

.thumb{aspect-ratio:1/1;display:block;width:100%;object-fit:cover;background:#0d0f14}

.noThumb{height:10px;background:transparent}

.meta{padding:10px 12px;border-top:1px solid #22293a}

.meta .name{font-size:15px;font-weight:700}

.meta .sub{margin-top:4px;color:var(--muted);font-size:12px}

.badges{display:flex;flex-wrap:wrap;gap:8px;padding:0 12px 10px}

.badge{background:#202538;border:1px solid #2a2f46;border-radius:999px;padding:6px 10px;font-size:12px;color:#cfd3ff}

.copyBtn{position:absolute;right:8px;bottom:8px;padding:7px 10px;border-radius:10px;border:1px solid #2a2f3b;background:rgba(10,12,18,.75);backdrop-filter:blur(4px);color:#dff2ff;cursor:pointer}

.copyBtn:hover{outline:1px solid var(--accent)}

.toast{position:fixed;left:50%;bottom:24px;transform:translateX(-50%) translateY(20px);background:#0f1724;border:1px solid #2a3651;color:#cfe9ff;padding:10px 14px;border-radius:12px;opacity:0;transition:.25s;pointer-events:none}

.toast.show{opacity:1;transform:translateX(-50%) translateY(0)}

.empty{color:var(--muted);text-align:center;padding:40px;border:1px dashed #2b3241;border-radius:12px}

#toTop{position:fixed;bottom:28px;right:28px;background:rgba(10,12,18,.8);border:1px solid #2a2f3b;color:var(--accent);border-radius:50%;width:42px;height:42px;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:0;pointer-events:none;transition:.25s}

#toTop.show{opacity:1;pointer-events:auto;transform:translateY(0)}

#toTop:hover{background:rgba(113,201,248,.15)}

</style>

</head>

<body>

<header>

  <div class="wrap">

    <div class="title">

      <h1>Tag Wiki</h1>

    </div>

    <p class="desc">

      위키식 태그 아카이브. 상단 칩으로 카테고리/하위 분류를 필터링하고, 카드의 ‘복사’로 태그 문자열을 즉시 복사하세요. ★ 버튼은 즐겨찾기(상단 고정)입니다.

    </p>

    <details class="toggle"><summary>사용 가이드</summary>

      <p>최상위 카테고리는 단일 선택, 하위 분류는 다중 선택. 검색/정렬은 현재 필터에만 적용됩니다.</p>

    </details>

  </div>

</header>

<div class="fixed-controls">

  <div class="wrap">

    <div class="controls">

      <input class="q" id="q" placeholder="검색(표시명/별칭/설명/분류)"/>

      <select class="sort" id="sort">

        <option value="original">등록순</option>

        <option value="newest">최신순</option>

        <option value="titleAsc">제목 A→Z</option>

        <option value="titleDesc">제목 Z→A</option>

        <option value="descLen">설명 짧은 순</option>

      </select>

      <button class="reset" id="reset">정렬/검색 초기화 (즐겨찾기 유지)</button>

      <div class="count"><span id="count">0</span>개 표시 중</div>

    </div>

    <!-- 카테고리/하위칩 바 -->

    <div class="cat-bar">

      <div class="chips" id="catChips">

        <!-- 최상위 카테고리 (단일선택) -->

        <button class="chip active" data-cat="ALL">전체</button>

        <button class="chip" data-cat="베이스">베이스</button>

        <button class="chip" data-cat="캐릭터">캐릭터</button>

        <button class="chip" data-cat="기본 외형">기본 외형</button>

        <button class="chip" data-cat="세부 외형">세부 외형</button>

        <button class="chip" data-cat="의상">의상</button>

        <button class="chip" data-cat="동작">동작</button>

        <button class="chip" data-cat="상호작용">상호작용</button>

        <button class="chip" data-cat="배경·환경">배경·환경</button>

        <button class="chip" data-cat="소품·효과">소품·효과</button>

      </div>

      <div class="facet-bar">

        <div class="chips" id="facetChips"></div>

        <span class="facet-help" id="facetHelp"></span>

      </div>

    </div>

  </div>

</div>

<main class="wrap">

  <div id="grid" class="grid"></div>

  <div id="empty" class="empty" hidden>검색 결과가 없어요.</div>

</main>

<button id="toTop" title="맨 위로">↑</button>

<div id="toast" class="toast"></div>

<script>

/* ===================== 1) 데이터 (샘플) =====================

 * 원하는 만큼 추가하세요. (img는 선택)

 * key: 표시명, copyText: 복사될 문자열, cat: 최상위, facet: 하위

 */

const DATA = [

  // 베이스

  {id:'base-001', key:'masterpiece', cat:'베이스', facet:'품질', desc:'고품질 플래그', aliases:['best quality'], copyText:'masterpiece, best quality'},

  {id:'base-002', key:'portrait', cat:'베이스', facet:'초점', desc:'인물 위주 구도', aliases:['bust shot'], copyText:'portrait, bust shot'},

  {id:'base-003', key:'rim light', cat:'베이스', facet:'조명', desc:'윤곽광', aliases:['back rim'], copyText:'rim light'},

  {id:'base-004', key:'dynamic angle', cat:'베이스', facet:'연출', desc:'역동적 카메라 각도', aliases:[], copyText:'dynamic angle'},

  {id:'base-005', key:'cityscape night', cat:'베이스', facet:'배경', desc:'야간 도시 전경', aliases:['night city'], copyText:'cityscape, night'},

  // 캐릭터

  {id:'char-001', key:'1boy', cat:'캐릭터', facet:'인원', desc:'남성 1인', aliases:['solo male'], copyText:'1boy'},

  {id:'char-002', key:'young adult', cat:'캐릭터', facet:'연령', desc:'청년', aliases:['late teens'], copyText:'young adult'},

  {id:'char-003', key:'human', cat:'캐릭터', facet:'종족', desc:'인간', aliases:[], copyText:'human'},

  {id:'char-004', key:'mafia boss', cat:'캐릭터', facet:'직업', desc:'마피아 보스', aliases:['don'], copyText:'mafia boss'},

  {id:'char-005', key:'stoic', cat:'캐릭터', facet:'성격', desc:'과묵/무표정', aliases:['serene'], copyText:'stoic'},

  // 기본 외형

  {id:'prim-001', key:'strong jawline', cat:'기본 외형', facet:'얼굴 구조', desc:'각진 턱선', aliases:[], copyText:'strong jawline'},

  {id:'prim-002', key:'high cheekbones', cat:'기본 외형', facet:'얼굴 구조', desc:'도드라진 광대', aliases:[], copyText:'high cheekbones'},

  {id:'prim-003', key:'olive skin', cat:'기본 외형', facet:'피부색', desc:'올리브 톤 피부', aliases:[], copyText:'olive skin'},

  {id:'prim-004', key:'athletic build', cat:'기본 외형', facet:'체형', desc:'운동형 체형', aliases:['fit'], copyText:'athletic'},

  // 세부 외형

  {id:'sec-001', key:'side-swept bangs', cat:'세부 외형', facet:'머리카락', desc:'사선 앞머리', aliases:['diagonal fringe'], copyText:'side-swept bangs'},

  {id:'sec-002', key:'black hair', cat:'세부 외형', facet:'머리카락', desc:'검은 머리', aliases:[], copyText:'black hair'},

  {id:'sec-003', key:'amber eyes', cat:'세부 외형', facet:'눈', desc:'호박색 눈', aliases:[], copyText:'amber eyes'},

  {id:'sec-004', key:'pierced ears', cat:'세부 외형', facet:'기타', desc:'피어싱 귀', aliases:['ear piercing'], copyText:'pierced ears'},

  // 의상

  {id:'wear-001', key:'double-breasted suit', cat:'의상', facet:'아우터/정장', desc:'더블브레스티드 수트', aliases:['DB suit'], copyText:'double-breasted suit'},

  {id:'wear-002', key:'dress shirt + tie', cat:'의상', facet:'상의', desc:'셔츠+타이', aliases:['shirt, tie'], copyText:'dress shirt, necktie'},

  {id:'wear-003', key:'dress pants', cat:'의상', facet:'하의', desc:'슬랙스', aliases:['slacks'], copyText:'dress pants'},

  {id:'wear-004', key:'oxford shoes', cat:'의상', facet:'신발', desc:'옥스퍼드', aliases:['oxfords'], copyText:'oxfords'},

  {id:'wear-005', key:'watch & gloves', cat:'의상', facet:'액세서리', desc:'시계+장갑', aliases:['leather gloves'], copyText:'watch, gloves'},

  // 동작

  {id:'pose-001', key:'standing, arms crossed', cat:'동작', facet:'포즈', desc:'서서 팔짱', aliases:[], copyText:'standing, arms crossed'},

  {id:'pose-002', key:'looking at viewer', cat:'동작', facet:'시선', desc:'정면 응시', aliases:['eye contact'], copyText:'looking at viewer'},

  {id:'pose-003', key:'smirking', cat:'동작', facet:'표정', desc:'비웃는 미소', aliases:[], copyText:'smirking'},

  // 상호작용

  {id:'inter-001', key:'reaching toward viewer', cat:'상호작용', facet:'viewer', desc:'시점 향해 손 뻗음', aliases:[], copyText:'reaching toward viewer'},

  {id:'inter-002', key:'holding hands', cat:'상호작용', facet:'타인', desc:'손잡기', aliases:[], copyText:'holding hands'},

  {id:'inter-003', key:'leaning against wall', cat:'상호작용', facet:'환경', desc:'벽 기대기', aliases:[], copyText:'leaning against wall'},

  // 배경·환경

  {id:'bg-001', key:'indoor, cafe', cat:'배경·환경', facet:'장소', desc:'실내 카페', aliases:['cafe interior'], copyText:'indoor, cafe'},

  {id:'bg-002', key:'night rain', cat:'배경·환경', facet:'시간/기상', desc:'밤, 비', aliases:['rainy night'], copyText:'night, rain'},

  {id:'bg-003', key:'moody atmosphere', cat:'배경·환경', facet:'분위기', desc:'우중충한 무드', aliases:['low key mood'], copyText:'moody'},

  // 소품·효과

  {id:'prop-001', key:'cigarette + lighter', cat:'소품·효과', facet:'생활/장식', desc:'담배와 라이터', aliases:['lighting cigarette'], copyText:'cigarette, lighter'},

  {id:'prop-002', key:'sword', cat:'소품·효과', facet:'무기/장비', desc:'검', aliases:[], copyText:'sword'},

  {id:'prop-003', key:'light rays', cat:'소품·효과', facet:'시각 효과', desc:'빛줄기', aliases:['god rays'], copyText:'light rays'}

];

/* ===================== 2) 분류 → 하위분류 맵 ===================== */

const FACETS = {

  '베이스': ['품질','작화','테마','초점','조명','연출','배경','장소','카메라'],

  '캐릭터': ['인원','연령','인종/피부톤','성격','종족','직업','관계'],

  '기본 외형': ['얼굴 구조','피부색','체형','기타'],

  '세부 외형': ['머리카락','눈','귀/코/입','손/손톱','기타'],

  '의상': ['상의','아우터/정장','하의','신발','머리장식','액세서리','소재/디테일','유니폼/테마복'],

  '동작': ['표정','포즈','제스처','시선','움직임'],

  '상호작용': ['viewer','타인','환경','구도'],

  '배경·환경': ['유형','장소','시간/기상','분위기'],

  '소품·효과': ['무기/장비','생활/장식','시각 효과']

};

/* ===================== 3) DOM ===================== */

const $ = (s,el=document)=>el.querySelector(s);

const g=$('#grid'), empty=$('#empty'), q=$('#q'), sortSel=$('#sort'),

      resetBtn=$('#reset'), countEl=$('#count'), toastEl=$('#toast'),

      toTop=$('#toTop'), catChips=$('#catChips'), facetChips=$('#facetChips'), facetHelp=$('#facetHelp');

/* ===================== 4) 즐겨찾기 저장소 ===================== */

const store=(()=>{try{const k='__chk__';localStorage.setItem(k,'1');localStorage.removeItem(k);return localStorage}catch(_){let m={};return{getItem:k=>m[k]||null,setItem:(k,v)=>m[k]=v,removeItem:k=>delete m[k]}})();

const FKEY='wiki:favorites';

const getFav=()=>new Set(JSON.parse(store.getItem(FKEY)||'[]'));

const setFav=s=>store.setItem(FKEY,JSON.stringify([...s]));

/* ===================== 5) 인덱스/상태 ===================== */

const orderIndex=new Map(DATA.map((it,i)=>[it.id,i])); // 등록순

let state={cat:'ALL', facets:new Set(), q:'', sort:'original'};

/* ===================== 6) 렌더 ===================== */

function makeCard(item){

  const favs=getFav(); const isFav=favs.has(item.id);

  const card=document.createElement('article');

  card.className='card'+(isFav?' isFav':'');

  const thumb = item.img ? `<img class="thumb" src="${item.img}" alt="${item.key}">` : `<div class="thumb noThumb"></div>`;

  card.innerHTML=`

    <button class="favBtn" aria-pressed="${isFav}" data-id="${item.id}">★</button>

    ${thumb}

    <button class="copyBtn" data-clip="${item.copyText||item.key}">복사</button>

    <div class="meta">

      <div class="name">${item.key}</div>

      <div class="sub">${item.cat} · ${item.facet||'-'}</div>

    </div>

    ${(item.aliases&&item.aliases.length)?`<div class="badges">${item.aliases.map(x=>`<span class="badge">${x}</span>`).join('')}</div>`:''}

    ${item.desc?`<div class="meta"><div class="sub">${item.desc}</div></div>`:''}

  `;

  return card;

}

function filterByState(list){

  const kw=state.q.trim().toLowerCase();

  let arr=list;

  if(state.cat!=='ALL') arr=arr.filter(it=>it.cat===state.cat);

  if(state.facets.size) arr=arr.filter(it=> state.facets.has(it.facet));

  if(kw){

    arr=arr.filter(it=>

      it.key.toLowerCase().includes(kw) ||

      (it.desc||'').toLowerCase().includes(kw) ||

      (it.aliases||[]).some(a=>a.toLowerCase().includes(kw)) ||

      (it.cat||'').toLowerCase().includes(kw) ||

      (it.facet||'').toLowerCase().includes(kw)

    );

  }

  // 즐겨찾기 상단 고정 + 정렬

  const favs=getFav(), fa=[], na=[];

  arr.forEach(i => (favs.has(i.id)?fa:na).push(i));

  const byTitle=(a,b)=>a.key.localeCompare(b.key,'ko',{numeric:true,sensitivity:'base'});

  const byOld=(a,b)=>orderIndex.get(a.id)-orderIndex.get(b.id);

  const byNew=(a,b)=>orderIndex.get(b.id)-orderIndex.get(a.id);

  const byDescLen=(a,b)=>(a.desc||'').length-(b.desc||'').length;

  const apply=(a)=>{

    switch(state.sort){

      case 'newest': return a.sort(byNew);

      case 'titleAsc': return a.sort(byTitle);

      case 'titleDesc': return a.sort((x,y)=>byTitle(y,x));

      case 'descLen': return a.sort(byDescLen);

      case 'original':

      default: return a.sort(byOld);

    }

  };

  return [...apply(fa), ...apply(na)];

}

function render(){

  const list=filterByState(DATA);

  g.innerHTML=''; list.forEach(it=>g.appendChild(makeCard(it)));

  empty.hidden=list.length!==0;

  countEl.textContent=list.length;

}

/* ===================== 7) 칩 렌더/이벤트 ===================== */

function renderFacetChips(){

  facetChips.innerHTML='';

  const facets = state.cat==='ALL' ? [] : (FACETS[state.cat]||[]);

  if(!facets.length){

    facetHelp.textContent='하위 분류 없음 (전체 검색 가능)';

    return;

  }

  facetHelp.textContent='하위 분류는 다중 선택 가능';

  facets.forEach(name=>{

    const btn=document.createElement('button');

    btn.className='chip';

    btn.dataset.facet=name;

    btn.textContent=name;

    if(state.facets.has(name)) btn.classList.add('active');

    facetChips.appendChild(btn);

  });

}

catChips.addEventListener('click',e=>{

  const btn=e.target.closest('.chip'); if(!btn) return;

  catChips.querySelectorAll('.chip').forEach(x=>x.classList.remove('active'));

  btn.classList.add('active');

  state.cat=btn.dataset.cat;

  state.facets.clear(); // 카테고리 바꾸면 하위 선택 초기화

  renderFacetChips(); render();

});

facetChips.addEventListener('click',e=>{

  const btn=e.target.closest('.chip'); if(!btn) return;

  const name=btn.dataset.facet;

  btn.classList.toggle('active');

  if(btn.classList.contains('active')) state.facets.add(name);

  else state.facets.delete(name);

  render();

});

/* ===================== 8) 기타 이벤트 ===================== */

const toast=(m)=>{toastEl.textContent=m;toastEl.classList.add('show');setTimeout(()=>toastEl.classList.remove('show'),1200);};

g.addEventListener('click',ev=>{

  const copy=ev.target.closest('.copyBtn');

  if(copy){ navigator.clipboard.writeText(copy.dataset.clip).then(()=>toast('복사 완료!')).catch(()=>toast('복사 실패')); return; }

  const star=ev.target.closest('.favBtn');

  if(star){ const favs=getFav(), id=star.dataset.id; favs.has(id)?favs.delete(id):favs.add(id); setFav(favs); render(); }

});

q.addEventListener('input',e=>{state.q=e.target.value; render();});

sortSel.addEventListener('change',e=>{state.sort=e.target.value; render();});

resetBtn.addEventListener('click',()=>{ q.value=''; state.q=''; sortSel.value='original'; state.sort='original'; render(); });

window.addEventListener('scroll',()=>{ if(window.scrollY>300) toTop.classList.add('show'); else toTop.classList.remove('show'); });

toTop.addEventListener('click',()=>window.scrollTo({top:0,behavior:'smooth'}));

/* ===================== 9) 시작 ===================== */

renderFacetChips(); render();

</script>

</body>

</html>
